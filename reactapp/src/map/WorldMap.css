/* ========================================
   DSA CONQUEST MAP — Minimal CSS
   Only SVG state classes & map container
   UI is fully Tailwind-based now
   ======================================== */

/* ── SVG Base ── */
.skill-tree-wrapper svg path {
  contain: layout style;
}

/* High-res mode — remove perf optimizations */
.skill-tree-wrapper.high-res-mode svg path {
  contain: none;
  transition: fill 0.2s ease, opacity 0.2s ease;
}

.skill-tree-wrapper.high-res-mode .map-container,
.skill-tree-wrapper.high-res-mode .world-svg {
  transform: none;
  backface-visibility: visible;
}

.skill-tree-wrapper.high-res-mode .react-transform-wrapper,
.skill-tree-wrapper.high-res-mode .react-transform-component {
  will-change: auto;
}

/* ── Country state classes ── */

/* Placeholder — no problem mapped */
.skill-tree-wrapper svg path.country-placeholder {
  fill: #18181b;
  opacity: 0.5;
  stroke: #27272a;
  stroke-width: 0.5;
  cursor: default;
}

/* Default (before classes applied) */
.skill-tree-wrapper svg path:not(.country-placeholder):not(.country-completed):not(.country-current):not(.country-available):not(.country-locked) {
  fill: #18181b;
  opacity: 0.5;
  stroke: #27272a;
  stroke-width: 0.5;
}

/* Completed */
.skill-tree-wrapper svg path.country-completed {
  fill: var(--topic-color, #a1a1aa);
  opacity: 0.85;
  stroke: #09090b;
  stroke-width: 0.8;
  cursor: pointer;
}
.skill-tree-wrapper svg path.country-completed:hover {
  opacity: 1;
  filter: brightness(1.15);
}

/* Current */
.skill-tree-wrapper svg path.country-current {
  fill: #fef08a;
  opacity: 1;
  stroke: var(--topic-color, #a1a1aa);
  stroke-width: 2;
  cursor: pointer;
  filter: drop-shadow(0 0 6px rgba(250, 204, 21, 0.4));
}
.skill-tree-wrapper svg path.country-current:hover {
  opacity: 0.9;
}

/* Available */
.skill-tree-wrapper svg path.country-available {
  fill: #e4e4e7;
  opacity: 0.9;
  stroke: var(--topic-color, #a1a1aa);
  stroke-width: 1.2;
  cursor: pointer;
}
.skill-tree-wrapper svg path.country-available:hover {
  opacity: 1;
  fill: #fafafa;
}

/* Locked */
.skill-tree-wrapper svg path.country-locked {
  fill: #18181b;
  opacity: 0.35;
  stroke: #27272a;
  stroke-width: 0.5;
  cursor: not-allowed;
}

/* ── Map container ── */
.skill-tree-wrapper .map-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.skill-tree-wrapper .world-svg {
  width: 100%;
  height: auto;
  max-height: 100vh;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* GPU accel for smooth transforms */
.skill-tree-wrapper .react-transform-wrapper {
  will-change: transform;
}
.skill-tree-wrapper .react-transform-component {
  will-change: transform;
}

/* Disable transitions during active pan/zoom */
.skill-tree-wrapper .react-transform-wrapper:active svg path,
.skill-tree-wrapper .map-container:active svg path {
  transition: none !important;
}

/* ── Position marker animation ── */
.skill-tree-wrapper .pulse-ring {
  animation: pulseRing 2s infinite;
}

@keyframes pulseRing {
  0%   { r: 12; opacity: 0.5; }
  50%  { r: 20; opacity: 0.15; }
  100% { r: 12; opacity: 0.5; }
}

/* ── Responsive ── */
@media (max-width: 768px) {
  .skill-tree-wrapper .map-container {
    min-height: 100vh;
  }
}
