"use strict";(self.webpackChunkalgo_visualizer=self.webpackChunkalgo_visualizer||[]).push([[7227],{67227(e,t,s){s.r(t),s.d(t,{default:()=>n});var l=s(9950),r=s(44414);const a={Simple:{nodes:["A","B","C","D"],edges:[["A","B"],["A","C"],["B","D"],["C","D"]]},Complex:{nodes:["A","B","C","D","E","F"],edges:[["A","B"],["A","C"],["B","D"],["C","D"],["D","E"],["F","A"]]}},n=()=>{const[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)([]),[i,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[m,x]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[v,b]=(0,l.useState)(null),[j,f]=(0,l.useState)(new Set),y=()=>{x([]),g([]),b(null),f(new Set)},N=e.reduce((t,s,l)=>{const r=l/e.length*2*Math.PI;return t[s]={x:200+150*Math.cos(r),y:200+150*Math.sin(r)},t},{});return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Topological Sort"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Create Your Graph"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"New Node",className:"border p-2 mr-2"}),(0,r.jsx)("button",{onClick:()=>{i&&!e.includes(i)&&(t([...e,i]),d(""))},className:"bg-accent-primary text-theme-primary p-2 rounded",children:"Add Node"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"Source",className:"border p-2 mr-2"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Destination",className:"border p-2 mr-2"}),(0,r.jsx)("button",{onClick:()=>{c&&u&&e.includes(c)&&e.includes(u)&&(n([...s,[c,u]]),o(""),h(""))},className:"bg-accent-primary text-theme-primary p-2 rounded",children:"Add Edge"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Pre-defined Graphs"}),(0,r.jsxs)("select",{onChange:e=>(e=>{const s=a[e];t(s.nodes),n(s.edges),y()})(e.target.value),className:"border p-2 mr-2",children:[(0,r.jsx)("option",{value:"",children:"Select"}),Object.keys(a).map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("button",{onClick:()=>{t([]),n([]),y()},className:"bg-danger text-theme-primary p-2 rounded",children:"Clear Graph"})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("button",{onClick:async()=>{y();const t=new Map(e.map(e=>[e,0])),l=new Map(e.map(e=>[e,[]]));for(const[e,i]of s)l.get(e).push(i),t.set(i,t.get(i)+1);const r=e.filter(e=>0===t.get(e));g(r);const a=[],n=[...r];for(;n.length>0;){const e=n.shift();b(e),a.push(e),x([...a]),await new Promise(e=>setTimeout(e,1e3));for(const s of l.get(e))t.set(s,t.get(s)-1),0===t.get(s)&&n.push(s);g([...n]),j.add(e),f(new Set(j))}b(null),a.length!==e.length&&x(["Error: Graph contains a cycle"])},className:"bg-success text-theme-primary p-2 rounded mr-2",children:"Start Sort"}),(0,r.jsx)("button",{onClick:y,className:"bg-theme-muted text-theme-primary p-2 rounded",children:"Reset"})]})]}),(0,r.jsxs)("div",{className:"relative",style:{height:"400px"},children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 400",children:[s.map((e,t)=>{var s,l,a,n;let[i,d]=e;return(0,r.jsx)("line",{x1:null===(s=N[i])||void 0===s?void 0:s.x,y1:null===(l=N[i])||void 0===l?void 0:l.y,x2:null===(a=N[d])||void 0===a?void 0:a.x,y2:null===(n=N[d])||void 0===n?void 0:n.y,stroke:"black",markerEnd:"url(#arrow)"},t)}),(0,r.jsx)("defs",{children:(0,r.jsx)("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"8",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:(0,r.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"black"})})})]}),Object.entries(N).map(e=>{let[t,{x:s,y:l}]=e;return(0,r.jsx)("div",{className:"absolute w-10 h-10 rounded-full flex items-center justify-center text-theme-primary font-bold ".concat(j.has(t)?"bg-theme-muted":v===t?"bg-success":p.includes(t)?"bg-warning":"bg-accent-primary"),style:{left:s-20,top:l-20},children:t},t)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"Topological Sort Order:"}),(0,r.jsx)("p",{children:m.join(" -> ")})]})]})}}}]);