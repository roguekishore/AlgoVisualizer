"use strict";(self.webpackChunkalgo_visualizer=self.webpackChunkalgo_visualizer||[]).push([[5651],{35651(e,t,r){r.r(t),r.d(t,{default:()=>y});var s=r(89379),a=r(9950),i=r(45462),n=r(65613),c=r(30621),o=r(21570),l=r(25692),d=r(53291),m=r(79539),h=r(44414);const x=e=>{let{text:t,status:r}=e;const s="solution"===r?"bg-success-hover/30 border-success":"trying"===r?"bg-accent-primary-hover/30 border-accent-primary":"backtrack"===r?"bg-danger-hover/30 border-danger":"bg-theme-tertiary/40 border-theme-primary";return(0,h.jsx)(m.P.div,{layout:!0,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0},className:"p-3 rounded-lg border ".concat(s," text-sm font-mono text-theme-primary"),children:t})},y=e=>{var t,r,y;let{navigate:u}=e;const[p,g]=(0,a.useState)(5),[b,v]=(0,a.useState)([]),[j,f]=(0,a.useState)(0),[N,k]=(0,a.useState)(!1),[A,T]=(0,a.useState)([]),z=(0,a.useRef)(null),S=[2,1,-1,-2,-2,-1,1,2],C=[1,2,2,1,-1,-2,-2,-1];(0,a.useEffect)(()=>(N&&b.length>0&&(j<b.length-1?z.current=setTimeout(()=>f(e=>e+1),600):k(!1)),()=>clearTimeout(z.current)),[N,j,b.length]);const w=b[j]||{};return(0,h.jsxs)("div",{className:"p-6 min-h-screen bg-gradient-to-br from-accent-primary900 via-indigo-900 to-black text-theme-primary",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("button",{onClick:()=>u("home"),className:"px-3 py-2 rounded-lg bg-theme-tertiary/60 border border-theme-primary hover:bg-theme-tertiary",children:[(0,h.jsx)(i.A,{size:18})," Back"]}),(0,h.jsx)("h2",{className:"text-2xl font-bold text-accent-primary",children:"Knight\u2019s Tour"})]}),(0,h.jsx)("div",{className:"text-sm text-theme-tertiary",children:"Backtracking \u2022 Tier 3 (Hard)"})]}),(0,h.jsxs)("div",{className:"flex gap-3 mb-6 items-center",children:[(0,h.jsx)("input",{type:"number",min:4,max:8,value:p,onChange:e=>g(Number(e.target.value)),className:"px-3 py-2 rounded-lg bg-theme-tertiary border border-theme-primary w-32",placeholder:"Board size"}),(0,h.jsx)("button",{onClick:()=>{k(!1),v([]),T([]),f(0),setTimeout(()=>{(e=>{const t=[],r=Array(e).fill(0).map(()=>Array(e).fill(-1));let a=!1;const i=e=>t.push((0,s.A)((0,s.A)({},e),{},{id:t.length})),n=(t,s)=>t>=0&&s>=0&&t<e&&s<e&&-1===r[t][s],c=(t,s,o)=>{if(i({type:"visit",x:t,y:s,movei:o,note:"Move ".concat(o,": Knight at (").concat(t,", ").concat(s,")")}),o===e*e)return i({type:"solution",x:t,y:s,movei:o,note:"\u2705 Completed Knight's Tour!"}),a=!0,!0;for(let e=0;e<8;e++){const a=t+S[e],l=s+C[e];if(n(a,l)){if(r[a][l]=o,i({type:"trying",x:a,y:l,movei:o,note:"Trying move ".concat(o," \u2192 (").concat(a,", ").concat(l,")")}),c(a,l,o+1))return!0;r[a][l]=-1,i({type:"backtrack",x:a,y:l,movei:o,note:"Backtrack from (".concat(a,", ").concat(l,")")})}}return!1};r[0][0]=0,i({type:"start",x:0,y:0,movei:0,note:"Start Knight's Tour on ".concat(e,"\xd7").concat(e," board.")}),c(0,0,1),i({type:"end",note:"Finished exploration."}),v(t),T(a?r.map(e=>[...e]):[]),f(0)})(p),k(!0)},100)},className:"px-4 py-2 bg-accent-primary-hover hover:bg-accent-primary-hover rounded-lg",children:"Start"}),(0,h.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:()=>k(e=>!e),className:"px-3 py-2 rounded-lg bg-theme-tertiary border border-theme-primary",disabled:0===b.length,children:N?(0,h.jsx)(n.A,{size:16}):(0,h.jsx)(c.A,{size:16})}),(0,h.jsx)("button",{onClick:()=>{f(0),k(!1)},className:"px-3 py-2 rounded-lg bg-theme-tertiary border border-theme-primary",children:(0,h.jsx)(o.A,{size:16})})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,h.jsxs)("div",{className:"bg-theme-secondary/40 p-4 rounded-xl border border-theme-primary",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold mb-3 text-theme-secondary",children:"Step Viewer"}),(0,h.jsx)(d.N,{initial:!1,children:w&&(0,h.jsx)(m.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:(0,h.jsx)(x,{text:w.note,status:"solution"===w.type?"solution":"trying"===w.type?"trying":"backtrack"===w.type?"backtrack":"normal"})},w.id||"none")}),(0,h.jsxs)("div",{className:"mt-4 text-sm text-theme-tertiary",children:[(0,h.jsxs)("div",{children:["Move: ",null!==(t=w.movei)&&void 0!==t?t:"-"]}),(0,h.jsxs)("div",{children:["Position: (",null!==(r=w.x)&&void 0!==r?r:"-",", ",null!==(y=w.y)&&void 0!==y?y:"-",")"]}),(0,h.jsxs)("div",{children:["Frame: ",j+1,"/",b.length]})]})]}),(0,h.jsxs)("div",{className:"bg-theme-secondary/40 p-4 rounded-xl border border-theme-primary flex flex-col items-center",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold mb-3 text-theme-secondary",children:"Recursion Path"}),(0,h.jsx)("div",{className:"grid grid-cols-5 gap-1",children:Array.from({length:p}).map((e,t)=>Array.from({length:p}).map((e,r)=>{const s=b.slice(0,j).find(e=>e.x===t&&e.y===r),a=w.x===t&&w.y===r&&"backtrack"!==w.type;return(0,h.jsx)(m.P.div,{layout:!0,className:"w-8 h-8 rounded-md flex items-center justify-center border text-xs font-mono\n                    ".concat(a?"bg-accent-primary-hover/60 border-accent-primary":s?"bg-theme-elevated/50 border-theme-primary":"bg-theme-secondary/50 border-theme-primary"),children:s?s.movei%10:""},"".concat(t,"-").concat(r))}))}),(0,h.jsx)("div",{className:"mt-3 text-xs text-theme-tertiary",children:"(Knight positions visualized)"})]}),(0,h.jsxs)("div",{className:"bg-theme-secondary/40 p-4 rounded-xl border border-theme-primary",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold mb-3 text-theme-secondary",children:"Result"}),A.length>0?(0,h.jsx)("div",{className:"text-success text-sm",children:"\u2705 Knight\u2019s Tour completed successfully!"}):(0,h.jsx)("div",{className:"text-theme-tertiary text-sm",children:"No complete tour found yet."}),(0,h.jsxs)("div",{className:"mt-6 text-sm text-theme-tertiary",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Board Size:"})," ",p,"\xd7",p]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Total Frames:"})," ",b.length]})]})]})]}),(0,h.jsxs)("div",{className:"mt-6 text-sm text-theme-tertiary flex items-center gap-3",children:[(0,h.jsx)(l.A,{})," ",(0,h.jsx)("span",{children:"Visualizes DFS-based Knight\u2019s Tour recursion with live step and backtrack updates."})]})]})}}}]);