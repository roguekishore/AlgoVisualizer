/*! For license information please see 7036.5e0d1965.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkalgo_visualizer=self.webpackChunkalgo_visualizer||[]).push([[7036],{16859(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},30621(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},32125(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("step-forward",[["path",{d:"M10.029 4.285A2 2 0 0 0 7 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"1ystz2"}],["path",{d:"M3 4v16",key:"1ph11n"}]])},33360(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},51981(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},65613(e,t,r){r.d(t,{A:()=>a});const a=(0,r(36230).A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},77036(e,t,r){r.r(t),r.d(t,{default:()=>u});var a=r(9950),s=r(45462),n=r(51981),l=r(33360),i=r(23070),c=r(16859),d=r(65613),o=r(30621),h=r(21570),m=r(32125),x=r(44414);function p(e){return Array.from({length:e},()=>Array(e).fill(0))}const u=e=>{let{navigate:t}=e;const[r,u]=(0,a.useState)(4),[f,j]=(0,a.useState)(0),[v,N]=(0,a.useState)(3),[w,k]=(0,a.useState)(()=>p(4)),[A,S]=(0,a.useState)(()=>p(4)),[M,C]=(0,a.useState)(!1),[F,E]=(0,a.useState)(600),[P,B]=(0,a.useState)([]),[K,z]=(0,a.useState)(0),[D,L]=(0,a.useState)(0),R=(0,a.useRef)(null),[T,G]=(0,a.useState)([]),[I,W]=(0,a.useState)("Click Play or Step to find an augmenting path using BFS."),[O,V]=(0,a.useState)("simple"),[H,_]=(0,a.useState)("edmondsKarp"),[q,U]=(0,a.useState)("graph"),[X,Y]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=r,t=p(e);e>=4&&(t[0][1]=3,t[0][2]=2,t[1][2]=1,t[1][3]=2,t[2][3]=4),k(t),S(p(e)),L(0),B([]),z(0),C(!1)},[r]);(0,a.useCallback)((e,t)=>w[e][t]-A[e][t],[w,A]);const J=(0,a.useCallback)(()=>{const e=function(e,t,r,a,s){const n=(e,a)=>t[e][a]-r[e][a],l=Array(e).fill(-1);l[a]=a;const i=[a],c=Array(e).fill(0);for(c[a]=1/0;i.length;){const t=i.shift();for(let r=0;r<e;r++)if(-1===l[r]&&n(t,r)>0){if(l[r]=t,c[r]=Math.min(c[t],n(t,r)),r===s)return{parent:l,bottleneck:c[r]};i.push(r)}}return null}(r,w,A,f,v);if(!e)return{done:!0};const{parent:t,bottleneck:a}=e,s=[];let n=v;for(;n!==f;)s.push(n),n=t[n];s.push(f),s.reverse();const l=A.map(e=>e.slice());let i=v;for(;i!==f;){const e=t[i];l[e][i]+=a,l[i][e]-=a,i=e}return{done:!1,parent:t,bottleneck:a,pathNodes:s,newFlow:l}},[r,w,A,f,v]),Q=(0,a.useCallback)(()=>{if("edmondsKarp"===H){const e=J();if(!e||e.done)return C(!1),void W("No more augmenting paths. Max flow reached.");const{bottleneck:t,pathNodes:r,newFlow:a}=e;S(a),L(e=>e+t),G(r),W("Augmented along path ".concat(r.join(" \u2192 ")," with \u0394 = ").concat(t,".")),B(e=>[...e,{type:"augment",path:r,add:t}])}else{const e=function(e,t,r,a,s){const n=function(e,t,r,a){const s=Array(e).fill(-1),n=[];s[a]=0,n.push(a);const l=(e,a)=>t[e][a]-r[e][a];for(;n.length;){const t=n.shift();for(let r=0;r<e;r++)s[r]<0&&l(t,r)>0&&(s[r]=s[t]+1,n.push(r))}return s}(e,t,r,a);if(n[s]<0)return{done:!0};const l=Array(e).fill(0),i=r.map(e=>e.slice()),c=b(e,t,i,n,l,a,s,1/0);if(c<=0)return{done:!0};const d=[a];let o=a;const h=new Set([a]);for(;o!==s;){let t=!1;for(let a=0;a<e;a++){const e=r[o][a];if(i[o][a]>e&&n[a]===n[o]+1){d.push(a),o=a,t=!0;break}}if(!t)break;if(h.has(o))break;h.add(o)}return{done:!1,path:d,delta:c,newFlow:i}}(r,w,A,f,v);if(!e||e.done)return C(!1),void W("No more blocking flow. Max flow reached.");const{path:t,delta:a,newFlow:s}=e;S(s),L(e=>e+a),G(t),W("Dinic: augmented ".concat(a," along ").concat(t.join(" \u2192 "),".")),B(e=>[...e,{type:"dinic-augment",path:t,add:a}])}},[H,J,r,w,A,f,v]);(0,a.useEffect)(()=>{if(M)return R.current=setTimeout(()=>{Q()},F),()=>clearTimeout(R.current)},[M,F,Q,A]);const Z=(e,t,a)=>{if(e===t)return;e<0||t<0||e>=r||t>=r||k(r=>{const s=r.map(e=>e.slice());return s[e][t]=Math.max(0,Number.isFinite(a)?a:0),s})};(0,a.useMemo)(()=>{const e=[];for(let t=0;t<r;t++)for(let a=0;a<r;a++)(w[t][a]>0||0!==A[t][a])&&e.push({u:t,v:a,cap:w[t][a],f:A[t][a]});return e},[w,A,r]);return(0,x.jsxs)("div",{className:"bg-theme-primary text-theme-primary min-h-screen",children:[(0,x.jsx)("div",{className:"bg-theme-secondary/80 backdrop-blur-xl border-b border-theme-secondary sticky top-0 z-50",children:(0,x.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,x.jsxs)("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-theme-secondary bg-theme-tertiary/80 hover:bg-theme-elevated px-4 py-2 rounded-lg transition-colors",children:[(0,x.jsx)(s.A,{className:"h-4 w-4"}),"Back to Graphs"]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(i.A,{className:"h-6 w-6 text-accent-primary"}),(0,x.jsx)("h1",{className:"text-xl font-bold",children:"Max Flow (Edmonds\u2013Karp)"})]})]})}),(0,x.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 mt-10 pb-10",children:(0,x.jsxs)("div",{className:"bg-theme-secondary/50 rounded-xl p-5 border border-theme-secondary",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,x.jsx)(c.A,{className:"h-5 w-5 text-purple"})," Algorithm Info"]}),(0,x.jsx)("div",{className:"text-sm text-theme-secondary space-y-2",children:"edmondsKarp"===H?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:"Edmonds\u2013Karp = BFS-based Ford\u2013Fulkerson."}),(0,x.jsx)("div",{children:"Time Complexity: O(V\xb7E\xb2)"}),(0,x.jsx)("div",{children:"Residual graph: unused capacity; reverse edges allow cancellation."})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:"Dinic = Level graph (BFS layers) + blocking flow (DFS sends)."}),(0,x.jsx)("div",{children:"Time Complexity: O(V\xb2\xb7E) in general; faster on many graphs."}),(0,x.jsx)("div",{children:"Level graph restricts edges to forward layers; speeds up augmentation."})]})}),(0,x.jsxs)("div",{className:"mt-4 p-3 bg-accent-primary/10 rounded border border-accent-primary/30 text-xs text-theme-secondary",children:["edmondsKarp"===H?(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsx)("div",{className:"font-semibold text-accent-primary300",children:"Edmonds\u2013Karp (selected)"}),(0,x.jsx)("div",{children:"\u2022 Builds a path with BFS on the residual graph (fewest edges)."}),(0,x.jsx)("div",{children:"\u2022 Augments flow by the path's bottleneck; repeats until no path exists."}),(0,x.jsx)("div",{children:"\u2022 Guarantees polynomial time: O(V\xb7E\xb2)."}),(0,x.jsx)("div",{className:"text-theme-tertiary",children:"Best for teaching augmenting paths and bottlenecks."})]}):(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsx)("div",{className:"font-semibold text-accent-primary300",children:"Dinic (selected)"}),(0,x.jsxs)("div",{children:["\u2022 Builds a ",(0,x.jsx)("span",{className:"font-semibold",children:"level graph"})," (BFS layers), then pushes flow to form a blocking flow."]}),(0,x.jsx)("div",{children:"\u2022 Repeats level-building + blocking-flow phases until no more flow can be sent."}),(0,x.jsx)("div",{children:"\u2022 Typically faster than Edmonds\u2013Karp in practice."}),(0,x.jsx)("div",{className:"text-theme-tertiary",children:"Great for performance and understanding level graphs."})]}),(0,x.jsx)("div",{className:"mt-2 pt-2 border-t border-accent-primary/20 text-theme-tertiary",children:"Difference in a nutshell: Edmonds\u2013Karp augments one shortest path per step; Dinic sends multiple paths per phase using levels (we demonstrate one send per step for clarity)."})]}),(0,x.jsxs)("div",{className:"mt-4 p-3 bg-purplelight rounded border border-purple/30 text-xs text-theme-secondary",children:[(0,x.jsx)("div",{className:"font-semibold text-purple mb-1",children:"How to use"}),(0,x.jsx)("div",{children:"1) Pick a preset or edit the capacity table."}),(0,x.jsx)("div",{children:"2) Set Source/Sink."}),(0,x.jsx)("div",{children:"3) Press Step to see one augmenting path, or Play to run continuously."}),(0,x.jsx)("div",{children:"4) Watch the last path and max flow update."})]}),X&&(0,x.jsxs)("div",{className:"mt-4 p-3 bg-accent-primary-light rounded border border-accent-primary/30 text-xs text-theme-secondary",children:[(0,x.jsx)("div",{className:"font-semibold text-accent-primary mb-1",children:"Edit Edge"}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)("span",{children:["u=",X.u," \u2192 v=",X.v]}),(0,x.jsx)("input",{type:"number",min:"0",className:"w-20 bg-theme-tertiary border border-theme-primary rounded px-2 py-1 text-right",value:w[X.u][X.v],onChange:e=>Z(X.u,X.v,parseInt(e.target.value,10))}),(0,x.jsx)("button",{className:"px-2 py-1 bg-theme-elevated rounded border border-theme-primary",onClick:()=>Y(null),children:"Done"})]})]})]})}),(0,x.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,x.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,x.jsxs)("div",{className:"bg-theme-secondary/50 rounded-xl p-5 border border-theme-secondary",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,x.jsx)(n.A,{className:"h-5 w-5 text-accent-primary"})," Controls"]}),(0,x.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,x.jsx)("button",{onClick:()=>U("graph"),className:"px-3 py-2 rounded border ".concat("graph"===q?"bg-accent-primary-hover text-theme-primary border-accent-primary":"bg-theme-tertiary text-theme-secondary border-theme-primary"),children:"Graph"}),(0,x.jsx)("button",{onClick:()=>U("matrix"),className:"px-3 py-2 rounded border ".concat("matrix"===q?"bg-accent-primary-hover text-theme-primary border-accent-primary":"bg-theme-tertiary text-theme-secondary border-theme-primary"),children:"Matrix"})]}),(0,x.jsxs)("label",{className:"block",children:["Algorithm",(0,x.jsxs)("select",{className:"w-full mt-1 bg-theme-tertiary border border-theme-primary rounded p-2",value:H,onChange:e=>{_(e.target.value),W("Algorithm changed. Reset recommended for fair comparison.")},children:[(0,x.jsx)("option",{value:"edmondsKarp",children:"Edmonds\u2013Karp (BFS-based)"}),(0,x.jsx)("option",{value:"dinic",children:"Dinic (Level graph + blocking flow)"})]})]}),(0,x.jsxs)("label",{className:"block",children:["Preset",(0,x.jsxs)("select",{className:"w-full mt-1 bg-theme-tertiary border border-theme-primary rounded p-2",value:O,onChange:e=>(e=>{const t=p(6);if("simple"===e){const e=4;u(e);const t=p(e);t[0][1]=3,t[0][2]=2,t[1][2]=1,t[1][3]=2,t[2][3]=4,k(t),j(0),N(3),S(p(e))}else"parallel"===e?(t[0][1]=4,t[1][5]=4,t[0][2]=3,t[2][5]=3,t[1][2]=1,u(6),k(t),j(0),N(5),S(p(6))):"bipartite"===e&&(t[0][1]=1,t[0][2]=1,t[1][3]=1,t[1][4]=1,t[2][3]=1,t[3][5]=1,t[4][5]=1,u(6),k(t),j(0),N(5),S(p(6)));V(e),G([]),B([]),L(0),W("Preset loaded. Click Play or Step.")})(e.target.value),children:[(0,x.jsx)("option",{value:"simple",children:"Simple (max flow 5)"}),(0,x.jsx)("option",{value:"parallel",children:"Parallel Paths"}),(0,x.jsx)("option",{value:"bipartite",children:"Small Bipartite Matching"})]})]}),(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("span",{children:["Nodes: ",r]}),(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("button",{onClick:()=>{r<=2||(u(e=>e-1),j(0),N(e=>Math.max(1,Math.min(e,r-2))))},className:"px-2 py-1 bg-theme-elevated rounded",children:"-"}),(0,x.jsx)("button",{onClick:()=>{r>=10||u(e=>e+1)},className:"px-2 py-1 bg-theme-elevated rounded",children:"+"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,x.jsxs)("label",{className:"text-theme-tertiary",children:["Source",(0,x.jsx)("select",{className:"w-full mt-1 bg-theme-tertiary border border-theme-primary rounded p-1",value:f,onChange:e=>j(Number(e.target.value)),children:Array.from({length:r},(e,t)=>(0,x.jsx)("option",{value:t,children:t},"s-".concat(t)))})]}),(0,x.jsxs)("label",{className:"text-theme-tertiary",children:["Sink",(0,x.jsx)("select",{className:"w-full mt-1 bg-theme-tertiary border border-theme-primary rounded p-1",value:v,onChange:e=>N(Number(e.target.value)),children:Array.from({length:r},(e,t)=>(0,x.jsx)("option",{value:t,children:t},"t-".concat(t)))})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-2",children:["Speed: ",F," ms"]}),(0,x.jsx)("input",{type:"range",min:"150",max:"1200",value:F,onChange:e=>E(Number(e.target.value)),className:"w-full"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,x.jsxs)("button",{onClick:()=>C(!0),disabled:M,className:"w-full h-10 flex items-center justify-center text-center whitespace-nowrap gap-2 px-3 bg-accent-primary-hover hover:bg-accent-primary-hover disabled:bg-theme-elevated text-theme-primary rounded-lg text-sm font-medium",children:[(0,x.jsx)(o.A,{className:"h-4 w-4"})," Play"]}),(0,x.jsxs)("button",{onClick:()=>C(!1),disabled:!M,className:"w-full h-10 flex items-center justify-center text-center whitespace-nowrap gap-2 px-3 bg-warning-hover hover:bg-warning700 disabled:bg-theme-elevated text-theme-primary rounded-lg text-sm font-medium",children:[(0,x.jsx)(d.A,{className:"h-4 w-4"})," Pause"]}),(0,x.jsxs)("button",{onClick:()=>{C(!1),Q()},className:"w-full h-10 flex items-center justify-center text-center whitespace-nowrap gap-2 px-3 bg-tealhover hover:bg-teal700 text-theme-primary rounded-lg text-sm font-medium",children:[(0,x.jsx)(m.A,{className:"h-4 w-4"})," Step"]}),(0,x.jsxs)("button",{onClick:()=>{S(p(r)),L(0),B([]),z(0),C(!1),G([]),W("Reset done. Click Play or Step.")},className:"w-full h-10 flex items-center justify-center text-center whitespace-nowrap gap-2 px-3 bg-theme-elevated hover:bg-theme-elevated text-theme-primary rounded-lg text-sm font-medium",children:[(0,x.jsx)(h.A,{className:"h-4 w-4"})," Reset"]})]})]})]}),(0,x.jsxs)("div",{className:"bg-theme-secondary/50 rounded-xl p-5 border border-theme-secondary",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,x.jsx)(l.A,{className:"h-5 w-5 text-success"})," Statistics"]}),(0,x.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{children:"Total Max Flow"}),(0,x.jsx)("span",{className:"text-success",children:D})]}),(0,x.jsxs)("div",{className:"text-xs text-theme-tertiary",children:["Augmentations: ",P.length]})]})]})]}),(0,x.jsx)("div",{className:"lg:col-span-3",children:(0,x.jsxs)("div",{className:"bg-theme-secondary/50 rounded-xl p-5 border border-theme-secondary",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"graph"===q?"Graph Editor":"Capacity Matrix"}),"graph"===q?(0,x.jsx)("div",{className:"w-full overflow-hidden",children:(0,x.jsx)(g,{nodeCount:r,capacity:w,flow:A,lastPath:T,onSelectEdge:(e,t)=>Y({u:e,v:t})})}):(0,x.jsx)("div",{className:"overflow-auto max-h-[60vh]",children:(0,x.jsxs)("table",{className:"w-full text-sm border-separate border-spacing-0",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"text-left p-2",children:"u\u2192v"}),Array.from({length:r},(e,t)=>(0,x.jsx)("th",{className:"p-2 text-center",children:t},"h-".concat(t)))]})}),(0,x.jsx)("tbody",{children:Array.from({length:r},(e,t)=>(0,x.jsxs)("tr",{className:"border-t border-theme-secondary",children:[(0,x.jsx)("td",{className:"p-2 font-mono text-theme-tertiary",children:t}),Array.from({length:r},(e,r)=>(0,x.jsxs)("td",{className:"p-1 ".concat(y(t,r,T)?"bg-accent-primary-light border border-accent-primary/30":""),children:[(0,x.jsx)("input",{type:"number",min:"0",className:"w-20 bg-theme-tertiary border border-theme-primary rounded px-2 py-1 text-right",value:w[t][r],onChange:e=>Z(t,r,parseInt(e.target.value,10))}),(0,x.jsxs)("div",{className:"text-[10px] text-theme-tertiary mt-1",children:["f ",A[t][r]," / r ",Math.max(0,w[t][r]-A[t][r])]})]},"c-".concat(t,"-").concat(r)))]},"r-".concat(t)))})]})}),P.length>0&&(0,x.jsxs)("div",{className:"mt-6 p-3 bg-accent-primary-light rounded border border-accent-primary/30 text-sm",children:[(0,x.jsx)("div",{className:"font-semibold text-accent-primary mb-1",children:"Last Augmenting Path"}),(0,x.jsxs)("div",{className:"text-theme-secondary",children:[P[P.length-1].path.join(" \u2192 ")," (\u0394 = ",P[P.length-1].add,")"]})]}),(0,x.jsx)("div",{className:"mt-4 text-sm text-theme-secondary p-3 bg-theme-tertiary/40 rounded border border-theme-primary",children:I})]})})]})]})};function y(e,t,r){if(!r||r.length<2)return!1;for(let a=0;a<r.length-1;a++)if(r[a]===e&&r[a+1]===t)return!0;return!1}function g(e){let{nodeCount:t,capacity:r,flow:a,lastPath:s,onSelectEdge:n}=e;const l=Math.min(900,520)/2-70,i=Array.from({length:t},(e,r)=>{const a=2*Math.PI*r/t-Math.PI/2;return{i:r,x:450+l*Math.cos(a),y:260+l*Math.sin(a)}});return(0,x.jsx)("div",{className:"w-full overflow-auto",children:(0,x.jsxs)("svg",{viewBox:"0 0 ".concat(900," ").concat(520),className:"w-full max-h-[60vh] rounded border border-theme-secondary bg-theme-primary",children:[(0,x.jsx)("defs",{children:(0,x.jsx)("marker",{id:"arrow",markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"strokeWidth",children:(0,x.jsx)("path",{d:"M0,0 L10,5 L0,10 z",fill:"#94a3b8"})})}),i.map(e=>i.map(t=>{if(e.i===t.i)return null;if(r[e.i][t.i]<=0&&0===a[e.i][t.i])return null;const l=t.x-e.x,i=t.y-e.y,c=Math.hypot(l,i)||1,d=l/c,o=i/c,h=e.x+20*d,m=e.y+20*o,p=t.x-20*d,u=t.y-20*o,g=(h+p)/2,b=(m+u)/2,f=(j=e.i,v=t.i,y(j,v,s));var j,v;return(0,x.jsxs)("g",{children:[(0,x.jsx)("line",{x1:h,y1:m,x2:p,y2:u,stroke:f?"#60a5fa":"#475569",strokeWidth:f?3:2,markerEnd:"url(#arrow)"}),(0,x.jsx)("rect",{x:g-28,y:b-16,width:"56",height:"22",rx:"4",ry:"4",fill:f?"#1e293b":"#0f172a",stroke:"#334155"}),(0,x.jsxs)("text",{x:g,y:b,textAnchor:"middle",dominantBaseline:"middle",className:"fill-gray-300 text-[11px] cursor-pointer",onClick:()=>n(e.i,t.i),children:[a[e.i][t.i]," / ",r[e.i][t.i]]})]},"e-".concat(e.i,"-").concat(t.i))})),i.map(e=>(0,x.jsxs)("g",{children:[(0,x.jsx)("circle",{cx:e.x,cy:e.y,r:18,fill:"#0f172a",stroke:"#334155",strokeWidth:"2"}),(0,x.jsx)("text",{x:e.x,y:e.y,textAnchor:"middle",dominantBaseline:"middle",className:"fill-gray-200 text-[12px] font-semibold",children:e.i})]},"n-".concat(e.i)))]})})}function b(e,t,r,a,s,n,l,i){if(n===l)return i;const c=(e,a)=>t[e][a]-r[e][a];for(;s[n]<e;s[n]++){const d=s[n];if(a[d]===a[n]+1&&c(n,d)>0){const o=b(e,t,r,a,s,d,l,Math.min(i,c(n,d)));if(o>0)return r[n][d]+=o,r[d][n]-=o,o}}return 0}}}]);