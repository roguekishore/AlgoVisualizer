/*! For license information please see 5788.f933ace9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkalgo_visualizer=self.webpackChunkalgo_visualizer||[]).push([[5788],{5788(e,t,s){s.r(t),s.d(t,{default:()=>p});var a=s(9950),i=s(19201),r=s(77737),n=s(74878),l=s(14215),c=s(65613),o=s(30621),d=s(41998),h=s(46976),m=s(6890),x=s(44414);const p=e=>{let{navigate:t}=e;const[s,p]=(0,a.useState)("greedy"),[u,y]=(0,a.useState)([]),[g,b]=(0,a.useState)(0),[f,j]=(0,a.useState)("7,1,5,3,6,4"),[v,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[P,A]=(0,a.useState)(1e3),C=(0,a.useCallback)(e=>{const t=[];let s=0,a=[];t.push({prices:[...e],totalProfit:0,transactions:[],explanation:"Starting greedy algorithm - Buy on every price increase",line:1,finished:!1});for(let i=1;i<e.length;i++){const r=e[i]-e[i-1];t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Day ".concat(i+1,": Price = $").concat(e[i],", Previous = $").concat(e[i-1],", Difference = $").concat(r),line:2,finished:!1,currentDay:i,previousDay:i-1,priceDiff:r}),r>0?(t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"PROFIT: Buy at day ".concat(i," ($").concat(e[i-1],"), Sell at day ").concat(i+1," ($").concat(e[i],")"),line:3,finished:!1,currentDay:i,previousDay:i-1,priceDiff:r,isTransaction:!0}),s+=r,a.push({buyDay:i-1,buyPrice:e[i-1],sellDay:i,sellPrice:e[i],profit:r}),t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Profit: +$".concat(r,", Total: $").concat(s),line:4,finished:!1,currentDay:i,isTransaction:!0})):t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"No transaction - Price didn't increase",line:5,finished:!1,currentDay:i})}t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Complete! Total profit: $".concat(s," from ").concat(a.length," transactions"),line:6,finished:!0}),y(t),b(0)},[]),D=(0,a.useCallback)(e=>{const t=[];let s=0,a=[],i=0;for(t.push({prices:[...e],totalProfit:0,transactions:[],explanation:"Starting peak-valley algorithm",line:1,finished:!1});i<e.length-1;){let r=i,n=i;for(;i<e.length-1&&e[i]>=e[i+1];)i++;for(r=i,t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Valley found: Day ".concat(r+1," at $").concat(e[r]),line:4,finished:!1,valley:r,isValleyFound:!0});i<e.length-1&&e[i]<=e[i+1];)i++;if(n=i,t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Peak found: Day ".concat(n+1," at $").concat(e[n]),line:7,finished:!1,peak:n,isPeakFound:!0}),r<n){const i=e[n]-e[r];t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Buy at valley (Day ".concat(r+1,"), Sell at peak (Day ").concat(n+1,")"),line:8,finished:!1,valley:r,peak:n,isTransaction:!0}),s+=i,a.push({buyDay:r,buyPrice:e[r],sellDay:n,sellPrice:e[n],profit:i}),t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Profit: +$".concat(i,", Total: $").concat(s),line:9,finished:!1,isTransaction:!0})}i++}t.push({prices:[...e],totalProfit:s,transactions:[...a],explanation:"Complete! Total profit: $".concat(s," from ").concat(a.length," transactions"),line:10,finished:!0}),y(t),b(0)},[]),S=()=>{N(!1),y([]),b(0),k(!1)},M=()=>{b(e=>Math.min(e+1,u.length-1))};(0,a.useEffect)(()=>{let e;return w&&g<u.length-1?e=setTimeout(M,P):k(!1),()=>clearTimeout(e)},[w,g,u.length,P]);const T=u[g]||{},{prices:$=[],totalProfit:z=0,transactions:F=[],explanation:V="Ready to start...",line:B=1,finished:E=!1,currentDay:I,previousDay:L,valley:O,peak:R,isTransaction:q=!1,isValleyFound:H=!1,isPeakFound:_=!1}=T;return(0,x.jsx)("div",{className:"min-h-screen bg-theme-secondary text-theme-primary p-4",children:(0,x.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,x.jsx)("header",{className:"text-center mb-8",children:(0,x.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h1",{className:"text-5xl font-bold text-success",children:"Best Time to Buy and Sell Stock II"}),(0,x.jsx)("p",{className:"text-lg text-theme-tertiary mt-2",children:"LeetCode 122 - Maximize profit with multiple transactions"})]})})}),(0,x.jsx)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary mb-6",children:(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4 flex-grow",children:[(0,x.jsx)("label",{className:"font-medium text-theme-secondary min-w-16",children:"Prices:"}),(0,x.jsx)("input",{type:"text",value:f,onChange:e=>j(e.target.value),disabled:v,className:"flex-grow bg-theme-elevated border border-theme-primary rounded-lg p-3 focus:ring-2 focus:ring-success focus:outline-none",placeholder:"e.g., 7,1,5,3,6,4"}),(0,x.jsx)("button",{onClick:()=>{const e=Array.from({length:8},()=>Math.floor(20*Math.random())+1);j(e.join(",")),S()},className:"bg-purplehover hover:bg-purple700 text-theme-primary font-bold py-3 px-4 rounded-lg transition-colors",children:"New Prices"})]}),v?(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("button",{onClick:()=>{b(e=>Math.max(e-1,0))},disabled:g<=0,className:"bg-theme-elevated hover:bg-theme-elevated p-3 rounded-lg transition-colors disabled:opacity-50",children:(0,x.jsx)(d.A,{className:"h-5 w-5"})}),w?(0,x.jsx)("button",{onClick:()=>{k(!1)},className:"bg-warning hover:bg-warning-hover p-3 rounded-lg transition-colors",children:(0,x.jsx)(c.A,{className:"h-5 w-5"})}):(0,x.jsx)("button",{onClick:()=>{g>=u.length-1&&b(0),k(!0)},disabled:g>=u.length-1,className:"bg-success hover:bg-success-hover p-3 rounded-lg transition-colors disabled:opacity-50",children:(0,x.jsx)(o.A,{className:"h-5 w-5"})}),(0,x.jsxs)("span",{className:"text-lg text-theme-secondary min-w-24 text-center",children:[g+1,"/",u.length]}),(0,x.jsx)("button",{onClick:M,disabled:g>=u.length-1,className:"bg-theme-elevated hover:bg-theme-elevated p-3 rounded-lg transition-colors disabled:opacity-50",children:(0,x.jsx)(h.A,{className:"h-5 w-5"})}),(0,x.jsxs)("select",{value:P,onChange:e=>A(Number(e.target.value)),className:"bg-theme-elevated border border-theme-primary rounded-lg px-3 py-2 text-theme-primary",children:[(0,x.jsx)("option",{value:1500,children:"Slow"}),(0,x.jsx)("option",{value:1e3,children:"Medium"}),(0,x.jsx)("option",{value:500,children:"Fast"})]}),(0,x.jsx)("button",{onClick:S,className:"bg-danger-hover hover:bg-danger-hover text-theme-primary font-bold py-2 px-4 rounded-lg transition-colors",children:"Reset"})]}):(0,x.jsx)("button",{onClick:()=>{try{const e=f.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e));if(e.length<2)return void alert("Please enter at least 2 valid prices");N(!0),b(0),"greedy"===s?C(e):D(e)}catch(e){alert("Invalid input format")}},className:"bg-success hover:bg-success-hover text-theme-primary font-bold py-3 px-8 rounded-lg transition-colors",children:"Load & Visualize"})]})}),(0,x.jsxs)("div",{className:"flex border-b border-theme-primary mb-6",children:[(0,x.jsx)("button",{onClick:()=>{p("greedy"),S()},className:"flex-1 p-4 border-b-4 transition-all font-semibold ".concat("greedy"===s?"border-success text-success bg-success/10":"border-transparent text-theme-tertiary"),children:"\ud83d\ude80 Greedy Approach"}),(0,x.jsx)("button",{onClick:()=>{p("peak-valley"),S()},className:"flex-1 p-4 border-b-4 transition-all font-semibold ".concat("peak-valley"===s?"border-success text-success bg-success/10":"border-transparent text-theme-tertiary"),children:"\u26f0\ufe0f Peak-Valley Approach"})]}),v&&u.length>0?(0,x.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,x.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(()=>{const e="greedy"===s?[{line:1,code:"int maxProfit(vector<int>& prices) {",type:"declaration"},{line:2,code:"  int profit = 0;",type:"initialization"},{line:3,code:"  for (int i = 1; i < prices.size(); i++) {",type:"loop"},{line:4,code:"    if (prices[i] > prices[i-1]) {",type:"condition"},{line:5,code:"      profit += prices[i] - prices[i-1];",type:"calculation"},{line:6,code:"    }",type:"closing"},{line:7,code:"  }",type:"closing"},{line:8,code:"  return profit;",type:"return"},{line:9,code:"}",type:"closing"}]:[{line:1,code:"int maxProfit(vector<int>& prices) {",type:"declaration"},{line:2,code:"  int i = 0, profit = 0;",type:"initialization"},{line:3,code:"  while (i < prices.size() - 1) {",type:"loop"},{line:4,code:"    // Find valley (local minimum)",type:"comment"},{line:5,code:"    while (i < prices.size()-1 &&",type:"loop"},{line:6,code:"           prices[i] >= prices[i+1]) i++;",type:"calculation"},{line:7,code:"    int valley = prices[i];",type:"assignment"},{line:8,code:"    // Find peak (local maximum)",type:"comment"},{line:9,code:"    while (i < prices.size()-1 &&",type:"loop"},{line:10,code:"           prices[i] <= prices[i+1]) i++;",type:"calculation"},{line:11,code:"    int peak = prices[i];",type:"assignment"},{line:12,code:"    profit += peak - valley;",type:"calculation"},{line:13,code:"  }",type:"closing"},{line:14,code:"  return profit;",type:"return"},{line:15,code:"}",type:"closing"}];return(0,x.jsxs)("div",{className:"bg-theme-tertiary p-5 rounded-xl border border-theme-primary",children:[(0,x.jsxs)("h3",{className:"font-bold text-xl text-success mb-4 border-b border-theme-primary pb-3 flex items-center gap-2",children:[(0,x.jsx)(n.A,{className:"w-5 h-5"}),"C++ Solution"]}),(0,x.jsx)("div",{className:"bg-theme-secondary rounded-lg p-4 overflow-x-auto",children:(0,x.jsx)("pre",{className:"text-sm font-mono",children:e.map(e=>(0,x.jsxs)("div",{className:"flex transition-all duration-300 py-1 px-2 rounded ".concat(T.line===e.line?"bg-success-light border-l-4 border-success shadow-lg":"hover:bg-theme-tertiary/50"),children:[(0,x.jsx)("span",{className:"w-8 text-right pr-3 select-none ".concat(T.line===e.line?"text-success font-bold":"text-theme-muted"),children:e.line}),(0,x.jsx)("span",{className:"flex-1 ".concat(T.line===e.line?"text-success font-semibold":"comment"===e.type?"text-theme-muted italic":"text-theme-secondary"),children:e.code})]},e.line))})}),(0,x.jsxs)("div",{className:"mt-4 p-3 bg-theme-elevated/50 rounded-lg border border-theme-primary",children:[(0,x.jsx)("h4",{className:"text-xs font-semibold text-theme-tertiary mb-2",children:"Current Execution:"}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-success-light border-l-4 border-success rounded"}),(0,x.jsx)("span",{className:"text-xs text-theme-secondary",children:"Executing this line"})]})]})]})})(),(0,x.jsxs)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:[(0,x.jsxs)("h3",{className:"font-bold text-lg text-theme-secondary mb-4 flex items-center gap-2",children:[(0,x.jsx)(l.A,{className:"w-5 h-5"}),"Statistics"]}),(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{children:"Total Profit:"}),(0,x.jsxs)("span",{className:"text-2xl font-bold text-success",children:["$",z]})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{children:"Transactions:"}),(0,x.jsx)("span",{className:"text-lg text-accent-primary",children:F.length})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{children:"Current Step:"}),(0,x.jsxs)("span",{className:"text-lg text-warning",children:[g+1,"/",u.length]})]})]})]}),(0,x.jsxs)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:[(0,x.jsxs)("h3",{className:"font-bold text-lg text-theme-secondary mb-4 flex items-center gap-2",children:[(0,x.jsx)(i.A,{className:"w-5 h-5"}),"Transactions"]}),(0,x.jsxs)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[F.map((e,t)=>(0,x.jsxs)("div",{className:"bg-theme-elevated/50 p-3 rounded border border-theme-primary",children:[(0,x.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,x.jsxs)("span",{className:"text-accent-primary font-semibold",children:["Trade ",t+1]}),(0,x.jsxs)("span",{className:"text-success font-bold",children:["+$",e.profit]})]}),(0,x.jsxs)("div",{className:"text-xs text-theme-secondary",children:[(0,x.jsxs)("div",{children:["Buy: Day ",e.buyDay+1," ($",e.buyPrice,")"]}),(0,x.jsxs)("div",{children:["Sell: Day ",e.sellDay+1," ($",e.sellPrice,")"]})]})]},t)),0===F.length&&(0,x.jsx)("div",{className:"text-theme-muted text-center py-4",children:"No transactions"})]})]})]}),(0,x.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(()=>{if(0===$.length)return(0,x.jsx)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:(0,x.jsx)("div",{className:"h-64 flex items-center justify-center text-theme-muted",children:"No data to display"})});const e=Math.max(...$),t=Math.min(...$);Math.max(30,400/$.length);return(0,x.jsxs)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:[(0,x.jsxs)("h3",{className:"font-bold text-lg text-theme-secondary mb-4 flex items-center gap-2",children:[(0,x.jsx)(m.A,{className:"w-5 h-5"}),"Price Chart"]}),(0,x.jsx)("div",{className:"relative",style:{height:250},children:(0,x.jsx)("div",{className:"flex items-end justify-center gap-2 h-full",children:$.map((a,i)=>{const r=(a-t)/(e-t||1)*190;let n="bg-theme-elevated",l="border-theme-muted";return"greedy"===s?i===I&&q?(n="bg-success",l="border-success"):i===L&&q?(n="bg-danger",l="border-danger"):i===I&&(n="bg-warning",l="border-warning"):i===O&&H?(n="bg-accent-primary",l="border-accent-primary"):i===R&&_?(n="bg-danger",l="border-danger"):i===I&&(n="bg-warning",l="border-warning"),(0,x.jsxs)("div",{className:"flex flex-col items-center",children:[(0,x.jsx)("div",{className:"w-8 ".concat(n," border-2 ").concat(l," rounded-t transition-all duration-300"),style:{height:"".concat(r,"px")}}),(0,x.jsxs)("div",{className:"text-xs text-theme-tertiary mt-2",children:["Day ",i+1]}),(0,x.jsxs)("div",{className:"text-sm font-semibold text-theme-secondary",children:["$",a]})]},i)})})}),(0,x.jsx)("div",{className:"flex flex-wrap gap-4 mt-4 text-xs justify-center",children:"greedy"===s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-danger rounded"}),(0,x.jsx)("span",{children:"Buy Point"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-success rounded"}),(0,x.jsx)("span",{children:"Sell Point"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-warning rounded"}),(0,x.jsx)("span",{children:"Current"})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-accent-primary rounded"}),(0,x.jsx)("span",{children:"Valley"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-danger rounded"}),(0,x.jsx)("span",{children:"Peak"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 bg-warning rounded"}),(0,x.jsx)("span",{children:"Current"})]})]})})]})})(),(0,x.jsxs)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:[(0,x.jsx)("h3",{className:"font-bold text-lg text-orange mb-4",children:"Step Explanation"}),(0,x.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(E?"border-success bg-success/10":"border-orange bg-orange/10"),children:V})]}),(0,x.jsxs)("div",{className:"bg-theme-tertiary p-6 rounded-xl border border-theme-primary",children:[(0,x.jsxs)("h3",{className:"font-bold text-lg text-accent-primary mb-4 flex items-center gap-2",children:[(0,x.jsx)(r.A,{className:"w-5 h-5"}),"Complexity Analysis"]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{className:"bg-theme-elevated/50 p-4 rounded-lg",children:[(0,x.jsx)("h4",{className:"font-semibold text-accent-primary mb-2",children:"Time: O(n)"}),(0,x.jsx)("p",{className:"text-theme-secondary text-sm",children:"Single pass through prices"})]}),(0,x.jsxs)("div",{className:"bg-theme-elevated/50 p-4 rounded-lg",children:[(0,x.jsx)("h4",{className:"font-semibold text-accent-primary mb-2",children:"Space: O(1)"}),(0,x.jsx)("p",{className:"text-theme-secondary text-sm",children:"Constant extra space"})]})]})]})]})]}):(0,x.jsxs)("div",{className:"text-center py-16",children:[(0,x.jsx)("div",{className:"text-theme-muted text-lg mb-4",children:v?"Loading...":"Enter prices and click 'Load & Visualize'"}),(0,x.jsx)("div",{className:"text-theme-muted text-sm",children:'Example: "7,1,5,3,6,4" or click "New Prices"'})]})]})})}},14215(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},19201(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},30621(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},41998(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]])},46976(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]])},65613(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},74878(e,t,s){s.d(t,{A:()=>a});const a=(0,s(36230).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])}}]);